<html>
<head>
<script src="https://3Dmol.csb.pitt.edu/build/3Dmol.js"></script>
</head>
<body>
<h2>1.2.5 part 4:  TIM (PDB 4POC) loop: Q64-I78</h2>
<input type="submit" value="stick" onclick="swapView(this.value)"/>
<input type="submit" value="ribbon" onclick="swapView(this.value)"/>
<input type="submit" value="ribbon and stick" onclick="swapView(this.value)"/>
<div id="3DMolViewerDiv" style="height: 600px; width: 600px; position: relative;"></div>
</body>
<script>
var swapViewer = null;
var pdbData = null;

function swapView(viewName) {
	console.log("swapView viewName:  " + viewName);

	swapViewer.removeAllModels();

	if ("ribbon" == viewName) {
		swapViewer.addModel(pdbData, "pdb");
		swapViewer.setStyle({}, {cartoon:{}});
	} else if ("ribbon and stick" == viewName) {
		swapViewer.addModel(pdbData, "pdb");
		swapViewer.setStyle({}, {cartoon:{}, stick:{}});
	} else if ("stick" == viewName) {
		swapViewer.addModel(pdbData, "pdb");
		swapViewer.setStyle({}, {stick:{}});
	}
	swapViewer.render();

};

$(document).ready(function() {
	swapViewer = $3Dmol.createViewer("3DMolViewerDiv");
	
	$.ajax({url: "https://www.broadinstitute.org/~dlahr/tsol_3dmol/4poc Q64-I78 loop.pdb", success: function(_4PocPdb) {
		pdbData = _4PocPdb;

		swapViewer.setBackgroundColor(0xffffff);
		swapView("stick");
		swapViewer.zoomTo();
		swapViewer.render();
	}});
});
</script>
</html>
