<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
    <script src="http://3Dmol.csb.pitt.edu/build/3Dmol.js"></script>
    <style>
      table td { text-align: center; }
      table th {padding-top: 1em;}
    </style>
  </head>
  <body>
  <div id="test36" style="width: 400px; height: 400px; position: relative;"></div>
<textarea style="display: none;" id="test">
4
* (null), Energy   -1000.0000000
N     0.000005    0.019779   -0.000003   -0.157114    0.000052   -0.012746
H     0.931955   -0.364989    0.000003    1.507100   -0.601158   -0.004108
H    -0.465975   -0.364992    0.807088    0.283368    0.257996   -0.583024
H    -0.465979   -0.364991   -0.807088    0.0392764    0.0342436    0.0764260
</textarea>
        <script>
          (function() {
            var viewer = $3Dmol.createViewer($("#test36"));
            var data = $("#test").val();
            viewer.setBackgroundColor(0xffffff);    
            var m = viewer.addModel(data, "xyz");
	    var atoms = m.selectedAtoms({});
	    for (var i = 0; i < atoms.length; i++) {
	    	var atom = atoms[i];
		atom["dx"] = Math.random() - 0.5;
		atom["dy"] = Math.random() - 0.5;
		atom["dz"] = Math.random() - 0.5;
	    }
            m.setStyle({},{stick:{}});
            m.vibrate(10, 0.5);
            viewer.animate({loop: "backAndForth"});
            viewer.zoomTo();
            viewer.render();
            console.log(atoms);
          })();
        </script>
  </body>
</html>
